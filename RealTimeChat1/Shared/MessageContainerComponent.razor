@using Microsoft.AspNetCore.SignalR.Client;
@inject NavigationManager NavigationManager

<MessageController OnReceiveMessageCallback="@GetMessageList" />

<div class="position-relative">

	<!--Компонент контейнера сообщений-->
	<div class="position-relative">
		<div class="chat-messages p-4">

			<ul>
				<!--Тут отображаем список сообщений-->
				@foreach (var message in MessageList)
				{
					<ul>
						<li><MessageLeft Message="@message"/></li>
					</ul>
				}

				@foreach (var message in MessageList)
				{
					<ul>
						<li><MessageRight Message="@message" /></li>
					</ul>
				}

			</ul>
		</div>

	</div>
</div>



@code {
	[Parameter] public List<Message> MessageList { get; set; }

	private void GetMessageList(List<Message> _MessageList)
	{
		MessageList = _MessageList;
	}
}